(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2mXJ":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var i,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(i=null!=(i=l(n,"name")||(null!=t?l(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r,loc:{start:{line:29,column:20},end:{line:29,column:28}}}):i)+"&nbsp;&nbsp;\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var i,l=e.lambda,o=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\x3c!-- Шаблон модалки одного фильма --\x3e\r\n\r\n<div class="movie-container">\r\n    <div class="movie-image">\r\n        <img src="https://image.tmdb.org/t/p/w500'+o(l(null!=t?c(t,"poster_path"):t,t))+'" alt="'+o(l(null!=t?c(t,"title"):t,t))+'">\r\n    </div>\r\n    <div class="movie-description">\r\n        <h1 class="movie-description-title">'+o(l(null!=t?c(t,"title"):t,t))+'</h1>\r\n        <div class="movie-description-block">\r\n            <ul class="movie-description-list-left">\r\n                <li class="movie-description-list-left-item">Vote / Votes</li>\r\n                <li class="movie-description-list-left-item">Popularity</li>\r\n                <li class="movie-description-list-left-item">Original title</li>\r\n                <li class="movie-description-list-left-item">Genre</li>\r\n            </ul>\r\n            <ul class="movie-description-list-right">\r\n                <li class="movie-description-list-right-item">\r\n                    <span class="movie-rating">'+o(l(null!=t?c(t,"vote_average"):t,t))+'</span> /\r\n                    <span class="movie-vote-count">'+o(l(null!=t?c(t,"vote_count"):t,t))+'</span>\r\n                </li>\r\n                <li class="movie-description-list-right-item">\r\n                    '+o(l(null!=t?c(t,"popularity"):t,t))+'\r\n                </li>\r\n                <li class="movie-description-list-right-item">\r\n                    <span class="original-title">'+o(l(null!=t?c(t,"original_title"):t,t))+'</span>\r\n                </li>\r\n                <li class="movie-description-list-right-item">\r\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:28,column:20},end:{line:30,column:29}}}))?i:"")+'                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="movie-about">\r\n            <p class="movie-about-title">ABOUT</p>\r\n            <p class="movie-about-text">'+o(l(null!=t?c(t,"overview"):t,t))+'</p>\r\n        </div>\r\n        <button class="add-to-watched" type="button" data-action-watched="watched" data-movie-id="'+o(l(null!=t?c(t,"id"):t,t))+'">ADD TO\r\n            WATCHED</button>\r\n        <button class="add-to-queue" type="button" data-action-queue="queue" data-movie-id="'+o(l(null!=t?c(t,"id"):t,t))+'">ADD TO\r\n            QUEUE</button>\r\n    </div>\r\n</div>'},useData:!0})},"Dv/5":function(e,t,n){},GwTD:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){return'<div class="btn-wrapper">\r\n  <button id="watched-film-btn" data-watched-film-btn="watch-btn" class="btn btn-active-style" disabled>Watched</button>\r\n  <button id="watched-queue-btn" data-queue-film-btn="queue-btn" class="btn btn-nonactive-style">queue</button>\r\n</div>'},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("Dv/5"),n("JBxO"),n("FdtR");var a=function(e){return fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0").then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},r={gallery:document.querySelector("#gallery"),form:document.querySelector(".search-form"),modalDiv:document.querySelector(".js-lightbox"),overlayDiv:document.querySelector(".lightbox__overlay"),modalDivContent:document.querySelector(".lightbox__content"),openImg:document.querySelector(".lightbox__image"),libraryButton:document.querySelector(".library-ref"),container:document.getElementById(".container"),lightbox:document.querySelector(".lightbox"),header:document.querySelector("#page-header"),galleryList:document.querySelector(".gallery"),watchedBtn:document.querySelector("#watched-film-btn"),homeBtn:document.querySelector(".home-ref")},i=n("2mXJ"),l=n.n(i);var o=function(e){var t="";"404"!==e.status&&(e.popularity=Math.round(e.popularity),t=l()(e)),r.modalDivContent.insertAdjacentHTML("beforeend",t)};function c(){window.removeEventListener("keydown",s),r.modalDiv.classList.remove("is-open"),r.openImg.src=""}function s(e){"Escape"===e.code&&c()}r.gallery.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;if(e.target.dataset.emptyPage)return;var t=e.target;t.dataset.src;!function(e){window.addEventListener("keydown",s),r.modalDiv.classList.add("is-open"),r.modalDivContent.innerHTML="",a(e).then((function(e){return o(e)}))}(t.dataset.movieId)})),r.overlayDiv.addEventListener("click",c);n("lmye"),n("/YXa"),n("Muwe"),n("WoWj"),n("aZFp"),n("U00V"),n("wcNg");var u=n("v+qO"),d=n.n(u);var m=function(e){var t="";"404"!==e.status&&(t=d()(e)),r.gallery.insertAdjacentHTML("beforeend",t)};function p(e,t,n,a,r,i,l){try{var o=e[i](l),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,r)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function l(e){p(i,a,r,l,o,"next",e)}function o(e){p(i,a,r,l,o,"throw",e)}l(void 0)}))}}function h(){return(h=v(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem(t)){e.next=9;break}return r.galleryList.classList.remove("empty-page-style"),r.galleryList.classList.add("gallery"),n=localStorage.getItem(t),a=n.split(","),e.next=7,Promise.all(a.map(function(){var e=v(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/"+t+"?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&");case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:i=e.sent,m(i);case 9:r.galleryList.hasChildNodes()||(r.galleryList.classList.add("empty-page-style"),r.galleryList.classList.remove("gallery"),r.gallery.innerHTML='<li><h2>EMPTY<h2><p>Nothing has been added yet :(</p><img class="image" data-empty-page="empty-page" src="https://i0.wp.com/www.ecommerce-nation.com/wp-content/uploads/2017/08/How-to-Give-Your-E-Commerce-No-Results-Page-the-Power-to-Sell.png?fit=1000%2C600&ssl=1" alt="empty page pic"></li>');case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){return h.apply(this,arguments)};function y(e){["btn-nonactive-style","btn-active-style"].map((function(t){return e.classList.toggle(t)}))}r.homeBtn.addEventListener("click",(function(){r.libraryButton.classList.contains("activ-link-style")&&(r.homeBtn.classList.add("activ-link-style"),r.libraryButton.classList.remove("activ-link-style"))}));var g=function(){r.libraryButton.addEventListener("click",(function(){r.gallery.innerHTML="",f("watched"),r.homeBtn.classList.contains("activ-link-style")&&(r.homeBtn.classList.remove("activ-link-style"),r.libraryButton.classList.add("activ-link-style")),r.libraryButton.addEventListener("click",(function(){var e=document.querySelector("#watched-film-btn"),t=document.querySelector("#watched-queue-btn");t.toggleAttribute("disabled"),e.toggleAttribute("disabled"),t.classList.contains("btn-active-style")&&(y(t),y(e))}))})),r.header.addEventListener("click",(function(){var e=document.querySelector("#watched-film-btn"),t=document.querySelector("#watched-queue-btn");event.target.dataset.queueFilmBtn&&(r.gallery.innerHTML="",f("queue"),y(t),y(e),t.setAttribute("disabled",!0),e.removeAttribute("disabled")),event.target.dataset.watchedFilmBtn&&(r.gallery.innerHTML="",f("watched"),y(e),y(t),t.removeAttribute("disabled"),e.setAttribute("disabled",!0))}))},b=(n("IvQZ"),n("4NM0"),n("bzha"),n("QJ3N"));n("zrP5");var w=function(e){b.notice({text:"The movie has been added to the "+e+" list",icon:!0,styling:"custom",delay:700,overlayClosesPinned:!0})};var L=function(e,t,n){var a=[],r=localStorage.getItem(""+t);r&&(a=r.split(",")),a.includes(e)||(a.push(e),w(""+n)),localStorage.setItem(""+t,a)};var k=function(){r.lightbox.addEventListener("click",(function(e){if(event.target.dataset.actionWatched){var t=event.target.dataset.movieId;L(t,"watched",'"WATCHED"')}if(event.target.dataset.actionQueue){var n=event.target.dataset.movieId;L(n,"queue",'"QUEUE"')}}))};var q=function(){return fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0").then((function(e){return e.json()})).then((function(e){return e.results})).catch((function(e){return console.log(e)}))},x=(n("y89P"),n("GwTD")),E=n.n(x);var S,B=function(){f("watched"),r.homeBtn.classList.contains("activ-link-style")&&(r.homeBtn.classList.remove("activ-link-style"),r.libraryButton.classList.add("activ-link-style"))},D=document.querySelector("#page-header"),P=document.querySelector(".library-ref"),_=document.querySelector(".search-form"),T=document.querySelector(".ref-wrapper"),j=document.querySelector(".remove");S=E()();var A=function(){_.remove(),T.insertAdjacentHTML("afterend",S),D.classList.replace("page-header","page-header-library")};P.addEventListener("click",A),j.addEventListener("click",(function(){j.removeEventListener("click",A)}));var M=function(){"#library"===location.hash&&(A(),j.removeEventListener("click",A),B())};(function(){location.hash||q().then((function(e){return m(e)})),M()})(),g(),k();var O=n("ZEAl"),C=document.getElementById("galery");new O.a({lines:15,length:0,width:10,radius:31,scale:1.25,corners:1,speed:1.4,rotate:0,animation:"spinner-line-fade-default",direction:1,color:"#FF6B08",fadeColor:"transparent",top:"51%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"absolute"}).spin(C).stop()},"v+qO":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var i,l=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,c="function",s=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="movie-card">\r\n    <img class="movie-poster" src="https://image.tmdb.org/t/p/w500'+s(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:o)===c?i.call(l,{name:"poster_path",hash:{},data:r,loc:{start:{line:5,column:66},end:{line:5,column:81}}}):i)+'" alt="'+s(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:o)===c?i.call(l,{name:"title",hash:{},data:r,loc:{start:{line:5,column:88},end:{line:5,column:97}}}):i)+'"\r\n        data-src="https://image.tmdb.org/t/p/w500'+s(typeof(i=null!=(i=u(n,"backdrop_path")||(null!=t?u(t,"backdrop_path"):t))?i:o)===c?i.call(l,{name:"backdrop_path",hash:{},data:r,loc:{start:{line:6,column:49},end:{line:6,column:66}}}):i)+'" data-movie-id="'+s(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:o)===c?i.call(l,{name:"id",hash:{},data:r,loc:{start:{line:6,column:83},end:{line:6,column:89}}}):i)+'">\r\n    <h1 class="movie-title">'+s(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:o)===c?i.call(l,{name:"title",hash:{},data:r,loc:{start:{line:7,column:28},end:{line:7,column:37}}}):i)+"</h1>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var i;return"\x3c!-- Шаблон карточки фильмов --\x3e\r\n\r\n"+(null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:3,column:0},end:{line:9,column:9}}}))?i:"")},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.fd000a8630b42c08a804.js.map