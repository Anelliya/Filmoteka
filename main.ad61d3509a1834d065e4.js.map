{"version":3,"sources":["webpack:///./template/movieModal.hbs","webpack:///./template/myLibraryHeaderTamplate.hbs","webpack:///./js/fetchMovies.js","webpack:///./js/refs.js","webpack:///./js/updateMarkup.js","webpack:///./js/fetchOneMovie.js","webpack:///./js/updateMovieModal.js","webpack:///./js/modalCards.js","webpack:///./js/fnGetDataFromLocStorage.js","webpack:///./js/myLibrary.js","webpack:///./js/notifyFunction.js","webpack:///./js/fnSetToLocalStorage.js","webpack:///./js/localStorage.js","webpack:///./js/script.js","webpack:///./js/spinner.js","webpack:///./js/library-header.js","webpack:///./template/movieCards.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","stack1","alias1","lambda","alias2","program","noop","fetchMovies","fetch","then","response","json","results","catch","error","console","log","refs","gallery","document","querySelector","form","modalDiv","overlayDiv","modalDivContent","openImg","libraryButton","getElementById","lightbox","header","updateMarkup","movie","markup","status","movieCardsTpl","insertAdjacentHTML","fetchOneMovie","movie_id","updateMovieModal","popularity","Math","round","movieModalTpl","closeModal","window","removeEventListener","onPressEscape","classList","remove","src","event","code","addEventListener","e","target","nodeName","activeImg","dataset","movieId","add","innerHTML","openModal","key","dataFromLocalStorage","localStorage","getItem","watchedFilmId","split","Promise","all","map","movieObject","movieObjects","getMoviesFromLocalStorage","createLibraryPage","dir","EventTarget","queueFilmBtn","watchedFilmBtn","notify","nameOfList","PNotify","text","icon","closer","styling","delay","overlayClosesPinned","setToLocalStorage","id","localStorageKeyName","listName","newValue","checkedKeyValue","includes","push","setItem","addDataToLocalStorage","ev","actionWatched","actionQueue","Spinner","lines","length","width","radius","scale","corners","speed","rotate","animation","direction","color","fadeColor","top","left","shadow","zIndex","className","position","spin","stop","headerRef","libraryRef","inputRef","pageRef","removeListenerBtnRef","itemsTemplate","createMarkup","replace","alias3","alias4"],"mappings":"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","file":"main.ad61d3509a1834d065e4.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":20},\"end\":{\"line\":29,\"column\":28}}}) : helper)))\n    + \"&nbsp;&nbsp;\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<!-- Шаблон модалки одного фильма -->\\r\\n\\r\\n<div class=\\\"movie-container\\\">\\r\\n    <div class=\\\"movie-image\\\">\\r\\n        <img src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\\">\\r\\n    </div>\\r\\n    <div class=\\\"movie-description\\\">\\r\\n        <h1 class=\\\"movie-description-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h1>\\r\\n        <div class=\\\"movie-description-block\\\">\\r\\n            <ul class=\\\"movie-description-list-left\\\">\\r\\n                <li class=\\\"movie-description-list-left-item\\\">Vote / Votes</li>\\r\\n                <li class=\\\"movie-description-list-left-item\\\">Popularity</li>\\r\\n                <li class=\\\"movie-description-list-left-item\\\">Original title</li>\\r\\n                <li class=\\\"movie-description-list-left-item\\\">Genre</li>\\r\\n            </ul>\\r\\n            <ul class=\\\"movie-description-list-right\\\">\\r\\n                <li class=\\\"movie-description-list-right-item\\\">\\r\\n                    <span class=\\\"movie-rating\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0), depth0))\n    + \"</span> /\\r\\n                    <span class=\\\"movie-vote-count\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0), depth0))\n    + \"</span>\\r\\n                </li>\\r\\n                <li class=\\\"movie-description-list-right-item\\\">\\r\\n                    \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0), depth0))\n    + \"\\r\\n                </li>\\r\\n                <li class=\\\"movie-description-list-right-item\\\">\\r\\n                    <span class=\\\"original-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0), depth0))\n    + \"</span>\\r\\n                </li>\\r\\n                <li class=\\\"movie-description-list-right-item\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":20},\"end\":{\"line\":30,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n        <div class=\\\"movie-about\\\">\\r\\n            <p class=\\\"movie-about-title\\\">ABOUT</p>\\r\\n            <p class=\\\"movie-about-text\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"overview\") : depth0), depth0))\n    + \"</p>\\r\\n        </div>\\r\\n        <button class=\\\"add-to-watched\\\" type=\\\"button\\\" data-action-watched=\\\"watched\\\" data-movie-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">ADD TO\\r\\n            WATCHED</button>\\r\\n        <button class=\\\"add-to-queue\\\" type=\\\"button\\\" data-action-queue=\\\"queue\\\" data-movie-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">ADD TO\\r\\n            QUEUE</button>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"btn-wrapper\\\">\\r\\n  <button id=\\\"watched-film-btn\\\" data-watched-film-btn=\\\"watch-btn\\\" class=\\\"btn\\\">Watched</button>\\r\\n  <button id=\\\"watched-queue-btn\\\" data-queue-film-btn=\\\"queue-btn\\\" class=\\\"btn\\\">queue</button>\\r\\n</div>\";\n},\"useData\":true});","const apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\r\n\r\nfunction fetchMovies() {\r\n    const url = `https://api.themoviedb.org/3/trending/movie/week?${apiKey}`; // популярные фильмы за неделю\r\n\r\n    return fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => data.results)\r\n        .catch(error => console.log(error));\r\n}\r\n\r\nexport default fetchMovies;","const refs = {\r\n  gallery: document.querySelector('#gallery'),\r\n  form: document.querySelector('.search-form'),\r\n  modalDiv: document.querySelector('.js-lightbox'),\r\n  overlayDiv: document.querySelector('.lightbox__overlay'),\r\n  modalDivContent: document.querySelector('.lightbox__content'),\r\n  openImg: document.querySelector('.lightbox__image'),\r\n  libraryButton: document.querySelector('.library-ref'),\r\n  container: document.getElementById('.container'),\r\n  lightbox: document.querySelector('.lightbox'),\r\n  header: document.querySelector('#page-header'),\r\n};\r\n\r\nexport default refs;\r\n","// Подгрузка разметки\r\n\r\nimport refs from './refs';\r\nimport movieCardsTpl from '../template/movieCards.hbs';\r\n\r\nfunction updateMarkup(movie) {\r\n    let markup = '';\r\n    if (movie.status !== '404') {\r\n        markup = movieCardsTpl(movie);\r\n    } \r\n    refs.gallery.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nexport default updateMarkup;","const apiKey = \"api_key=50b81e1c6c3b9e5f74d2015b742ff0b0\";\r\n\r\nfunction fetchOneMovie(movie_id) {\r\n    const url = `https://api.themoviedb.org/3/movie/${movie_id}?${apiKey}`;\r\n    return fetch(url)\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error));\r\n}\r\n\r\nexport default fetchOneMovie;","import refs from './refs';\r\nimport movieModalTpl from '../template/movieModal.hbs';\r\n\r\nfunction updateMovieModal(movie) {\r\n    let markup = '';\r\n\r\n    if (movie.status !== '404') {\r\n       movie.popularity = Math.round(movie.popularity);\r\n        markup = movieModalTpl(movie);\r\n    } \r\n    refs.modalDivContent.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nexport default updateMovieModal;","import fetchOneMovie from './fetchOneMovie';\r\nimport updateMovieModal from './updateMovieModal';\r\nimport refs from './refs'\r\n\r\n\r\nrefs.gallery.addEventListener('click', onImgClick);\r\n\r\nfunction onImgClick(e) {\r\n  if (e.target.nodeName !== 'IMG') {\r\n  return;\r\n  }\r\n \r\n  const activeImg = e.target;\r\n  const imgSrc = activeImg.dataset.src;\r\n  const movieId = activeImg.dataset.movieId;\r\n\r\n  openModal(movieId);\r\n  //openImage(imgSrc);\r\n}\r\n\r\nfunction openModal(movieId) {\r\n  window.addEventListener(\"keydown\", onPressEscape);\r\n  refs.modalDiv.classList.add(\"is-open\");\r\n  refs.modalDivContent.innerHTML='';\r\n  fetchOneMovie(movieId).then(data => updateMovieModal(data));\r\n}\r\n\r\n/*function openImage(imgSrc) {\r\n  window.addEventListener(\"keydown\", onPressEscape);\r\n  refs.modalDiv.classList.add(\"is-open\");\r\n\r\n  refs.openImg.src = imgSrc;\r\n}*/\r\n\r\nrefs.overlayDiv.addEventListener(\"click\", closeModal);\r\n\r\nfunction closeModal() {\r\n  window.removeEventListener(\"keydown\", onPressEscape);\r\n  \r\n  refs.modalDiv.classList.remove(\"is-open\");\r\n  refs.openImg.src = \"\";\r\n}\r\n\r\nfunction onPressEscape(event) {\r\n  if (event.code === \"Escape\") {\r\n    closeModal();\r\n  }\r\n}","import updateMarkup from './updateMarkup.js';\r\n\r\nasync function getMoviesFromLocalStorage(key) {\r\n  let dataFromLocalStorage = localStorage.getItem(key);\r\n  let watchedFilmId = dataFromLocalStorage.split(',');\r\n  let movieObjects = await Promise.all(\r\n    watchedFilmId.map(async movieId => {\r\n      let movieObject = await fetch(\r\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=50b81e1c6c3b9e5f74d2015b742ff0b0&`,\r\n      );\r\n      return movieObject.json();\r\n    }),\r\n  );\r\n  updateMarkup(movieObjects);\r\n}\r\n\r\nexport default getMoviesFromLocalStorage;\r\n","import refs from './refs.js';\r\nimport getMoviesFromLocalStorage from './fnGetDataFromLocStorage.js';\r\n\r\nfunction createLibraryPage() {\r\n  refs.libraryButton.addEventListener('click', () => {\r\n    refs.gallery.innerHTML = '';\r\n    getMoviesFromLocalStorage('watched');\r\n  });\r\n\r\n  refs.header.addEventListener('click', () => {\r\n    console.dir('target', EventTarget);\r\n    if (event.target.dataset.queueFilmBtn) {\r\n      console.log('target', EventTarget);\r\n      refs.gallery.innerHTML = '';\r\n      getMoviesFromLocalStorage('queue');\r\n    }\r\n    if (event.target.dataset.watchedFilmBtn) {\r\n      refs.gallery.innerHTML = '';\r\n      getMoviesFromLocalStorage('watched');\r\n    }\r\n  });\r\n}\r\n\r\nexport default createLibraryPage;\r\n","import '@pnotify/core/dist/PNotify.css';\r\nimport * as PNotify from '@pnotify/core';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nfunction notify(nameOfList) {\r\n  PNotify.notice({\r\n    text: `The movie has been added to the list ${nameOfList}`,\r\n    icon: true,\r\n    //delay: 5000,\r\n    closer: false,\r\n    styling: 'custom',\r\n    delay: 1000,\r\n    overlayClosesPinned: true,\r\n  });\r\n}\r\n\r\nexport default notify;\r\n","import notify from './notifyFunction.js';\r\n\r\nfunction setToLocalStorage(id, localStorageKeyName, listName) {\r\n  let newValue = [];\r\n  let checkedKeyValue = localStorage.getItem(`${localStorageKeyName}`); // assigns a key's value\r\n  if (checkedKeyValue) {\r\n    newValue = checkedKeyValue.split(',');\r\n  }\r\n  if (!newValue.includes(id)) {\r\n    newValue.push(id);\r\n    notify(`${listName}`);\r\n  }\r\n  localStorage.setItem(`${localStorageKeyName}`, newValue);\r\n}\r\nexport default setToLocalStorage;\r\n","import setToLocalStorage from './fnSetToLocalStorage.js';\r\nimport refs from './refs.js';\r\n\r\nfunction addDataToLocalStorage() {\r\n  refs.lightbox.addEventListener('click', ev => {\r\n    if (event.target.dataset.actionWatched) {\r\n      //event.target.setAttribute('disabled', 'true');\r\n      let movieId = event.target.dataset.movieId;\r\n      setToLocalStorage(movieId, 'watched', 'WATCHED');\r\n    }\r\n    if (event.target.dataset.actionQueue) {\r\n      let movieId = event.target.dataset.movieId;\r\n      setToLocalStorage(movieId, 'queue', 'QUEUE');\r\n    }\r\n  });\r\n}\r\n\r\nexport default addDataToLocalStorage;\r\n","import fetchMovies from './fetchMovies';\r\nimport updateMarkup from './updateMarkup';\r\nimport * as templ from './modalCards';\r\nimport createLibraryPage from './myLibrary.js';\r\nimport addDataToLocalStorage from './localStorage.js';\r\nimport refs from './refs.js';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nfetchMovies().then(data => updateMarkup(data));\r\ncreateLibraryPage();\r\naddDataToLocalStorage();\r\n","import {Spinner} from 'spin.js';\r\n\r\nvar opts = {\r\n  lines: 15, // The number of lines to draw\r\n  length: 0, // The length of each line\r\n  width: 10, // The line thickness\r\n  radius: 31, // The radius of the inner circle\r\n  scale: 1.25, // Scales overall size of the spinner\r\n  corners: 1, // Corner roundness (0..1)\r\n  speed: 1.4, // Rounds per second\r\n  rotate: 0, // The rotation offset\r\n  animation: 'spinner-line-fade-default', // The CSS animation name for the lines\r\n  direction: 1, // 1: clockwise, -1: counterclockwise\r\n  color: '#FF6B08', // CSS color or array of colors\r\n  fadeColor: 'transparent', // CSS color or array of colors\r\n  top: '51%', // Top position relative to parent\r\n  left: '50%', // Left position relative to parent\r\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\r\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\r\n  className: 'spinner', // The CSS class to assign to the spinner\r\n  position: 'absolute', // Element positioning\r\n};\r\n\r\nvar target = document.getElementById('galery');\r\nvar spinner = new Spinner(opts).spin(target);\r\nspinner.stop();\r\n","import itemsTemplate from '../template/myLibraryHeaderTamplate.hbs';\r\n\r\nconst headerRef = document.querySelector('#page-header');\r\nconst libraryRef = document.querySelector('.library-ref');\r\nconst inputRef = document.querySelector('.search-form');\r\nconst pageRef = document.querySelector('.ref-wrapper');\r\nconst removeListenerBtnRef = document.querySelector('.remove');\r\n\r\nlet markup = '';\r\nmarkup = itemsTemplate();\r\n\r\nconst createMarkup = () => {\r\n  inputRef.remove();\r\n  pageRef.insertAdjacentHTML('afterend', markup);\r\n  headerRef.classList.replace('page-header', 'page-header-library');\r\n};\r\n\r\nlibraryRef.addEventListener('click', createMarkup);\r\n\r\nremoveListenerBtnRef.addEventListener('click', () => {\r\n  removeListenerBtnRef.removeEventListener('click', createMarkup);\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-card\\\">\\r\\n    <img class=\\\"movie-poster\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":66},\"end\":{\"line\":5,\"column\":81}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":88},\"end\":{\"line\":5,\"column\":97}}}) : helper)))\n    + \"\\\"\\r\\n        data-src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":49},\"end\":{\"line\":6,\"column\":66}}}) : helper)))\n    + \"\\\" data-movie-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":83},\"end\":{\"line\":6,\"column\":89}}}) : helper)))\n    + \"\\\">\\r\\n    <h1 class=\\\"movie-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":28},\"end\":{\"line\":7,\"column\":37}}}) : helper)))\n    + \"</h1>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<!-- Шаблон карточки фильмов -->\\r\\n\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":0},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}